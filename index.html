<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Runner Scanner</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.23.12/dist/css/uikit.min.css" />
    <link rel="stylesheet" href="/index.css" />
</head>

<body>


    <nav class="uk-navbar-container">
        <div class="uk-container">
            <div id="test" uk-navbar>
                <div class="uk-navbar-left">
                    <ul class="uk-navbar-nav">
                        <li>Runner Scanner</li>
                    </ul>
                </div>
                <div class="uk-navbar-right">
                    <ul class="uk-navbar-nav" uk-switcher="connect: #component-nav-tabs; animation: uk-animation-fade">
                        <li class="uk-active"><a href="#">Home</a></li>
                        <li><a href="#">Scanner</a></li>
                        <li><a href="#">Print Barcodes</a></li>
                        <li><a href="#">Settings</a></li>
                    </ul>
                </div>

            </div>
        </div>
    </nav>

    <div class="uk-section uk-section-default">
        <div class="uk-container">
            <!-- This is the content switcher controlled by the tabs -->
            <div id="component-nav-tabs" class="uk-switcher uk-margin">
                <div id="homeGrid" class="uk-container" uk-grid>
                    <!-- HOME LANDING PAGE -->
                    <div class="uk-width-1-2@m">
                        <h3>Prototype Scanner App</h3>
                        <p>This is a prototype for a scanning app that also allows for generating barcodes on the fly. Primary use for this is to demonstrate how easy this can be used for a school jogging marathon. To quickly keep track of student progress
                            while allowing for quick scanning of a barcode to take notation and keep track of laps. There are many different applications that this can solve, not just keeping track of how many laps someone has ran. This demo shows how
                            quick and easy it can to get up and running.</p>
                    </div>
                    <div class="uk-width-1-2@m">
                        <h3>Progressive Web App</h3>
                        <p>This app has the capability of being used offline and cached to your browser. You can use it out on the field and still be able to scan and keep track of times scanned.</p>
                    </div>
                </div>
                <div class="uk-container" uk-grid>
                    <div class="uk-width-1-1@m">
                        <h3>Scanner</h3>
                        <div class="controls">
                            <fieldset class="input-group">
                                <button class="start">Enable Camera</button>
                                <button class="stop">Disable Camera</button>
                            </fieldset>
                            <fieldset class="reader-config-group uk-invisible">
                                <label>
                    <span>Barcode-Type</span>
                    <select name="decoder_readers">
                        <option value="code_128" selected="selected">Code 128</option>
                        <!--<option value="code_39">Code 39</option>
                        <option value="code_39_vin">Code 39 VIN</option>
                        <option value="ean">EAN</option>
                        <option value="ean_extended">EAN-extended</option>
                        <option value="ean_8">EAN-8</option>
                        <option value="upc">UPC</option>
                        <option value="upc_e">UPC-E</option>
                        <option value="codabar">Codabar</option>
                        <option value="i2of5">Interleaved 2 of 5</option>
                        <option value="2of5">Standard 2 of 5</option>
                        <option value="code_93">Code 93</option>-->
                    </select>
                </label>
                                <label>
                    <span>Resolution (width)</span>
                    <select name="input-stream_constraints">
                        <option value="320x240">320px</option>
                        <option value="640x480">640px</option>
                        <option value="800x600">800px</option>
                        <option selected="selected" value="1280x720">1280px</option>
                        <option value="1600x960">1600px</option>
                        <option value="1920x1080">1920px</option>
                    </select>
                </label>
                                <label>
                    <span>Patch-Size</span>
                    <select name="locator_patch-size">
                        <option value="x-small">x-small</option>
                        <option value="small">small</option>
                        <option value="medium">medium</option>
                        <option value="large">large</option>
                        <option selected="selected" value="x-large">x-large</option>
                    </select>
                </label>
                                <label>
                    <span>Half-Sample</span>
                    <input type="checkbox" checked="checked" name="locator_half-sample" />
                </label>
                                <label>
                    <span>Workers</span>
                    <select name="numOfWorkers">
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option selected="selected" value="4">4</option>
                        <option value="8">8</option>
                    </select>
                </label>
                                <label>
                    <span>Camera</span>
                    <select name="input-stream_constraints" id="deviceSelection">
                    </select>
                </label>
                                <label style="display: none">
                    <span>Zoom</span>
                    <select name="settings_zoom"></select>
                </label>
                                <label style="display: none">
                    <span>Torch</span>
                    <input type="checkbox" name="settings_torch" />
                </label>
                            </fieldset>
                        </div>
                        <div id="result_strip">
                            <ul class="thumbnails"></ul>
                            <ul class="collector"></ul>
                        </div>
                        <div class="uk-position-relative uk-inline" style="width:640px; height:480px;">
                            <!-- Quagga inserts the <video> automatically into this container -->
                            <div id="interactive" class="viewport"></div>

                            <!-- Overlay canvas (Quagga attaches here) -->
                            <canvas class="drawingBuffer uk-position-absolute uk-position-cover"></canvas>
                        </div>
                    </div>
                </div>
                <div id="barcodeGrid" class="uk-container" uk-grid>
                    <!-- SCANNER PAGE -->
                    <div class="uk-width-1-1@m">
                        <h3>Barcode Generation</h3>
                        <p>A quick way to generate many barcodes or a specific set of barcodes. To print them out please use the print functionality from your browser.
                        </p>
                    </div>
                    <div class="uk-width-1-2@m">
                        <h3>Generator Instructions</h3>
                        <p>To generate barcodes please put any number, range of numbers, or comma separated numbers. Ex: 40 or 1-40 or 2,4,5,6,26,88 </p>
                    </div>
                    <div class="uk-width-1-2@m">
                        <h3>Barcode Generator</h3>
                        <form id="generateBarcodeForm" autocomplete="off">

                            <div class="uk-margin" uk-margin>
                                <div uk-form-custom="target: true">
                                    <div class="uk-form-controls">
                                        <input class="uk-input uk-form-width-medium" id="barcodeInput" type="text" placeholder="Input Number, Range, Number List" required>
                                    </div>
                                </div>
                                <button id="generateBarcode" class="uk-button uk-button-default">Generate Barcodes</button>
                            </div>

                        </form>
                    </div>
                    <div class="uk-width-1-1@m">
                        <div id="generatedBarcodeContainer" uk-grid></div>
                    </div>

                </div>
                <div>Content for Tab 4</div>
            </div>
        </div>
    </div>
    <!-- Footer -->
    <!--  <div class="uk-section uk-section-secondary uk-position-bottom uk-light">
        <div class="uk-container">
            <p class="uk-text-small uk-text-center">Â© 2025 Ardible.io. All Rights Reserved.</p>
        </div>
    </div> -->
    <!-- UIkit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.23.12/dist/js/uikit.min.js "></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.23.12/dist/js/uikit-icons.min.js "></script>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/barcodes/JsBarcode.code128.min.js "></script>
    <script src="https://cdn.jsdelivr.net/npm/@ericblade/quagga2/dist/quagga.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            Quagga.init({
                inputStream: {
                    type: "LiveStream",
                    target: document.querySelector('#interactive'), // injects video here
                    constraints: {
                        facingMode: "environment" // use back camera if available
                    }
                },
                locator: {
                    patchSize: "medium",
                    halfSample: true
                },
                decoder: {
                    readers: ["code_128_reader"] // adjust to your barcode type
                },
                locate: true
            }, function(err) {
                if (err) {
                    console.error(err);
                    return;
                }
                Quagga.start();
            });

            Quagga.onDetected(function(result) {
                console.log("Detected: ", result.codeResult.code);
            });
        });
    </script>
    <script type="module" src="/src/index.js"></script>
    <script src="/src/Camera/Camera.js"></script>
</body>

</html>