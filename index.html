<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Runner Scanner</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.23.12/dist/css/uikit.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gridjs/dist/theme/mermaid.min.css" />
    <link rel="stylesheet" href="/index.css" />
</head>

<body>


    <nav class="uk-navbar-container">
        <div class="uk-container">
            <div id="runnerscannerNavbar" uk-navbar>
                <div class="uk-navbar-left">
                    <ul class="uk-navbar-nav">
                        <li>Runner Scanner</li>
                    </ul>
                </div>
                <div class="uk-navbar-right">
                    <ul class="uk-navbar-nav" uk-switcher="connect: #component-nav-tabs; animation: uk-animation-fade">
                        <li class="uk-active"><a href="#">Home</a></li>
                        <li><a href="#">Print Barcodes</a></li>
                        <li><a href="#">Live Scanner</a></li>
                        <li><a href="#">Display Runner Stats</a></li>
                        <li><a href="#">Settings</a></li>

                    </ul>
                </div>

            </div>
        </div>
    </nav>

    <div class="uk-section uk-section-default">
        <div class="uk-container">
            <!-- This is the content switcher controlled by the tabs -->
            <div id="component-nav-tabs" class="uk-switcher uk-margin">
                <div id="homeGrid" class="uk-container uk-margin-remove-top" uk-grid>
                    <div class="uk-width-1-1@m">
                        <h1>Runner Scanner</h1>
                    </div>
                    <!-- HOME LANDING PAGE -->
                    <div class="uk-width-1-2@m">
                        <h3>Application Information</h3>
                        <p>This is a demo for a multiple runner lap tracking app, that also allows for generating barcodes on the fly. Primary use for this is to demonstrate how easy this can be used for a school jogging marathon. To quickly keep track of
                            multiple runner's progress while allowing for quick scanning of a barcode to take lap notation, keep an audit of a timestamp and keep track of laps. There are many different applications that this can solve, not just keeping
                            track of how many laps someone has ran. This demo shows how quick and easy the app can be used to get up and start keeping track.</p>
                    </div>
                    <div class="uk-width-1-2@m">
                        <h3>Progressive Web App</h3>
                        <p>This app has the capability of being used offline and cached to your browser. You can use it out on the field and still be able to scan and keep track of times scanned. The demo data is store locally in your browser's cache.</p>
                    </div>
                    <div class="uk-width-1-1@m">
                        <h3>Racer Barcode Generation</h3>
                        <p>Please click <a href="#" uk-switcher-item="1">here to switch to the next Part of the Demo</a></p>
                    </div>
                </div>
                <div id="barcodeGrid" class="uk-container uk-margin-remove-top" uk-grid>
                    <div class="uk-width-1-1@m">
                        <h1>Print Barcodes</h1>
                    </div>
                    <!-- START Barcode Generation PAGE -->
                    <div class="uk-width-1-1@m">
                        <h3>Barcode Generation</h3>
                        <p>The Demo app provides a quick way to generate many barcodes or a specific set of barcodes. The barcodes will only be unique as long as you don't give different multiple runners the same barcode number. The a future version will
                            have a way to uniquely create barcodes. Print out you barcodes and attach them to your runner. When the runner completes a lap you just scan the barcode, once you hear the scan complete chime you scan the next barcode. <br/>                            To print them out please use the print functionality from your browser.
                        </p>
                    </div>
                    <div class="uk-width-1-2@m">
                        <h3>Generator Instructions</h3>
                        <p>To generate barcodes please put any number, range of numbers, or comma separated numbers. Ex: 40 or 1-40 or 2,4,5,6,26,88 </p>
                    </div>
                    <div class="uk-width-1-2@m">
                        <h3>Barcode Generator</h3>
                        <form id="generateBarcodeForm" autocomplete="off">

                            <div class="uk-margin" uk-margin>
                                <div uk-form-custom="target: true">
                                    <div class="uk-form-controls">
                                        <input class="uk-input uk-form-width-medium" id="barcodeInput" type="text" placeholder="Input Number, Range, Number List" required>
                                    </div>
                                </div>
                                <button id="generateBarcode" class="uk-button uk-button-primary">Generate Barcodes</button>
                            </div>

                        </form>
                    </div>
                    <div class="uk-width-1-1@m">
                        <h3>Create Race</h3>
                        <p>Please click <a href="#" uk-switcher-item="2">here to switch to the next Part of the Demo</a></p>
                    </div>
                    <div class="uk-width-1-1@m">
                        <div id="generatedBarcodeContainer" uk-grid></div>
                    </div>
                    <!-- END Barcode Generation PAGE -->

                </div>
                <div class="uk-container uk-margin-remove-top" uk-grid>
                    <div class="uk-width-1-1@m">
                        <h1>Live Scanner</h1>
                    </div>
                    <!-- START Barcode SCANNER PAGE -->
                    <div class="uk-width-1-1@m">
                        <h3>Start Race</h3>
                        <p>Here we can begin the race and start tracking the time for each runner that you scan. Clicking the enable camera button will start the race timer and begin keeping track of the race. The race will end when you click on the disable
                            camera button. A start time will not overwrite the current start timer so if you need to refresh your page you can do so. Once a race has started and ended the scanner will no longer allow scanning.
                        </p>
                    </div>
                    <div class="uk-width-1-1@m">
                        <h4>Current Race: <span id="currentRace">1</span><span></span>
                        </h4>
                        <h5>Start: <span id="raceStartTime">N/A</span>
                            <br/> End: <span id="raceEndTime">N/A</span></h5>
                    </div>
                    <!-- START Barcode SCANNER PAGE -->
                    <div class="uk-width-1-1@m">
                        <h3>Live Scanner</h3>
                        <p>Here we demonstrate how the scanner functions. Please click the Enable Camera button to demo the camera<br/> If you dont have a way to print out the demo barcodes please click the button on the right to emulate how the camera functionality
                            works.
                        </p>
                    </div>
                    <div class="uk-width-1-1@m">
                        <h3>Demo Barcodes Scanned Display Functionality</h3>
                        <p>Please click <a href="#" uk-switcher-item="3">here to switch to the next Part of the Demo</a></p>
                    </div>
                    <div class="uk-width-1-1@m">
                        <h3>Scanner</h3>
                        <div class="controls">
                            <fieldset class="input-group">
                                <button id="enableCamera" class="uk-button uk-button-primary start">Enable Camera</button>
                                <button id="disableCamera" class="uk-button uk-button-danger stop">Disable Camera</button>
                            </fieldset>
                            <fieldset class="reader-config-group">
                                <label>
                                    <span>Barcode-Type</span>
                                    <select name="decoder_readers">
                                        <option value="code_128" selected="selected">Code 128</option>
                                        <!--<option value="code_39">Code 39</option>
                                        <option value="code_39_vin">Code 39 VIN</option>
                                        <option value="ean">EAN</option>
                                        <option value="ean_extended">EAN-extended</option>
                                        <option value="ean_8">EAN-8</option>
                                        <option value="upc">UPC</option>
                                        <option value="upc_e">UPC-E</option>
                                        <option value="codabar">Codabar</option>
                                        <option value="i2of5">Interleaved 2 of 5</option>
                                        <option value="2of5">Standard 2 of 5</option>
                                        <option value="code_93">Code 93</option>-->
                                    </select>
                                </label>
                                <label>
                                    <span>Camera</span>
                                    <select name="input-stream_constraints" id="deviceSelection">
                                    </select>
                                </label>
                                <label>
                                    <span>Lap Cooldown</span>
                                    <select name="lapCooldown" id="lapCooldown">
                                        <option value="0">0</option>
                                        <option value="15" selected="selected">15</option>
                                        <option value="30">30</option>
                                        <option value="60">60</option>
                                        <option value="120">120</option>
                                    </select>
                                </label>
                            </fieldset>
                        </div>
                        <div id="cameraContainerDiv" class="uk-position-relative uk-inline" style="width:640px; height:480px;">
                            <!-- Quagga inserts the <video> automatically into this container -->
                            <div id="interactive" class="viewport"></div>

                            <!-- Overlay canvas (Quagga attaches here) -->
                            <canvas class="drawingBuffer uk-position-absolute uk-position-cover"></canvas>
                        </div>
                    </div>
                    <!-- END Barcode SCANNER PAGE -->

                </div>
                <div class="uk-container uk-margin-remove-top" uk-grid>
                    <div class="uk-width-1-1@m">
                        <h1>Display Runner Stats</h1>
                    </div>
                    <!-- START Barcode Display PAGE -->
                    <div class="uk-width-1-1@m">
                        <h3>Barcode Display</h3>
                        <p>Here you can see the stats of the runners that have been scanned.</p>
                        <button class="uk-button uk-button-primary" id="reloadGrids">Reload Grids</button>
                    </div>
                    <ul uk-accordion="multiple: true">
                        <li class="uk-open">
                            <a class="uk-accordion-title" href>Runner Stats</a>
                            <div class="uk-accordion-content">
                                <div id="allCountsTable"></div>
                            </div>
                        </li>
                        <li class="uk-open">
                            <a class="uk-accordion-title" href>All Runner Stats</a>
                            <div class="uk-accordion-content">
                                <div class="uk-width-1-1@m">
                                    <div class="uk-width-1-1@m">
                                        <div id="allResultsTable"></div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>


                    <!-- END Barcode Display PAGE -->
                </div>
                <div class="uk-container" uk-grid>
                    <!-- START Barcode Settings PAGE -->
                    <div class="uk-width-1-1@m">
                        <h3>Barcode Settings</h3>
                        <p>Click here to <button class="uk-button uk-button-danger" uk-toggle="target: #modal-close-default">RESET Database</button></p>
                    </div>
                    <!-- END Barcode Settings PAGE -->
                </div>

            </div>
        </div>
    </div>

    <!-- This is the modal with the default close button -->
    <div id="modal-close-default" uk-modal>
        <div class="uk-modal-dialog uk-modal-body">
            <button class="uk-modal-close-default" type="button" uk-close></button>
            <h2 class="uk-modal-title">Default</h2>
            <p>Deleting records is a permanent action are you sure you would like to continue?</p>
            <button class="uk-button uk-button-primary uk-close" type="button">Cancel</button> <button class="uk-button uk-button-danger" type="button" id="DeleteTable">DELETE RECORDS</button>


        </div>
    </div>

    <!-- Footer -->
    <!--  <div class="uk-section uk-section-secondary uk-position-bottom uk-light">
        <div class="uk-container">
            <p class="uk-text-small uk-text-center">© 2025 Ardible.io. All Rights Reserved.</p>
        </div>
    </div> -->
    <!-- UIkit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.23.12/dist/js/uikit.min.js "></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.23.12/dist/js/uikit-icons.min.js "></script>
    <script src="https://cdn.jsdelivr.net/npm/gridjs/dist/gridjs.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/barcodes/JsBarcode.code128.min.js "></script>
    <script src="https://cdn.jsdelivr.net/npm/@ericblade/quagga2/dist/quagga.min.js"></script>
    <script src="./src/dexie.min.js"></script>
    <script type="module" src="/src/index.js"></script>
</body>

</html>